package com.bbeltranl.evaluation.model;

import jakarta.persistence.*;
import lombok.Data;

import java.util.Date;
import java.util.List;
import java.util.UUID;

/**
 * Represents a user entity with associated attributes and relationships.
 * <p>
 * This class stores user-related information, including personal details and associated
 * phone numbers. It is annotated with JPA annotations for database persistence.
 * </p>
 *
 * @author bbeltranl
 * @version 1.0
 * @since 2024-06-13
 */
@Data
@Entity
@Table(name = "\"user\"")
public class User {

    /**
     * The unique identifier for the user entity.
     * <p>
     * This field is auto-generated by the database.
     * </p>
     */
    @Id
    @GeneratedValue
    private UUID id;

    /**
     * The name of the user.
     */
    private String name;

    /**
     * The email address of the user.
     */
    private String email;

    /**
     * The password of the user.
     * <p>
     * This should be stored securely and not in plain text.
     * </p>
     */
    private String password;

    /**
     * The date and time when the user was created.
     */
    private Date created;

    /**
     * The date and time when the user's information was last modified.
     */
    private Date modified;

    /**
     * The date and time when the user last logged in.
     */
    private Date lastLogin;

    /**
     * The authentication token associated with the user.
     * <p>
     * This token is used for maintaining session and authentication state.
     * </p>
     */
    private String token;

    /**
     * Indicates whether the user is currently active.
     */
    private boolean isActive;

    /**
     * The list of phone numbers associated with the user.
     * <p>
     * This field defines a one-to-many relationship with the {@link Phone} entity.
     * </p>
     */
    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    @JoinColumn(name = "user_id")
    private List<Phone> phones;
}